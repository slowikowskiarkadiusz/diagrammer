<div style="width: 100%; height: 100%; position: relative; border: 1px black solid;"
     (wheel)="onScroll($event)"
     (mouseup)="onMouseUp($event)"
     (mousemove)="onMouseMove($event)">
  <svg #board
       width="100%"
       height="100%"
       style="position: absolute;">
    <ng-container *ngFor="let figure of figures">
      <circle *ngIf="isCircle(figure)"
              [attr.r]="asCircle(figure).radius"
              [attr.cx]="figure.animatedCenter.x"
              [attr.cy]="figure.animatedCenter.y"
              [attr.stroke]="figure.isFixed ? 'blue' : 'green'"
              [attr.fill]="figure.isFixed ? 'blue' : 'green'"
              stroke-width="3"
              class="svg-node">
      </circle>
      <polygon *ngIf="isPolygon(figure)"
               (mousedown)="onMouseDown($event, figure)"
               [attr.points]="asPolygon(figure).animatedSvgPoints"
               [attr.stroke]="figure.isFixed ? 'blue' : 'green'"
               [attr.fill]="figure.isFixed ? 'blue' : 'green'"
               stroke-width="3"
               class="svg-node">
      </polygon>
    </ng-container>
  </svg>

  <div class="overlay">
    <ng-container *ngFor="let figure of figures">
      <div *ngIf="isCircle(figure)"
           class="html-node"
           [style.left]="(figure.animatedCenter.x - asCircle(figure).radius) + 'px'"
           [style.top]="(figure.animatedCenter.y - asCircle(figure).radius) + 'px'"
           [style.width]="asCircle(figure).radius * 2 + 'px'"
           [style.height]="asCircle(figure).radius * 2 + 'px'">
        <span class="node-text">{{figure.label ?? 'Magaya Service (BIC)'}}</span>
      </div>
    </ng-container>
  </div>
</div>
